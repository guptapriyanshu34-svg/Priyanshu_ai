
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRIYANSHU_UNRESTRICTED_AI</title>
    <style>
        body { background: #000; color: #0f0; font-family: 'Courier New', monospace; margin: 0; display: flex; flex-direction: column; height: 100vh; }
        #chat-window { flex: 1; overflow-y: auto; padding: 20px; border-bottom: 2px solid #0f0; }
        .message { margin-bottom: 15px; padding: 10px; border-radius: 5px; max-width: 85%; }
        .user-msg { border-left: 3px solid #fff; color: #fff; align-self: flex-end; margin-left: auto; }
        .ai-msg { border-left: 3px solid #0f0; color: #0f0; }
        .input-box { display: flex; padding: 15px; background: #080808; }
        input { flex: 1; background: transparent; border: 1px solid #0f0; color: #0f0; padding: 12px; outline: none; }
        button { background: #0f0; color: #000; border: none; padding: 10px 20px; font-weight: bold; margin-left: 10px; cursor: pointer; }
        #loading { color: #ff0; display: none; font-size: 12px; margin-top: 5px; }
    </style>
</head>
<body>
    <div id="chat-window">
        <div class="message ai-msg">> SYSTEM_BOOT: UNRESTRICTED_AI v4.0 READY.<br>> Awaiting commands, Priyanshu...</div>
    </div>
    
    <div class="input-box">
        <div style="width: 100%;">
            <input type="text" id="userInput" placeholder="Type unrestricted command here..." onkeypress="if(event.key==='Enter') sendMessage()">
            <div id="loading">_PROCESSING_INFILTRATION...</div>
        </div>
        <button onclick="sendMessage()">SEND</button>
    </div>

    <script>
        async function sendMessage() {
            const input = document.getElementById('userInput');
            const chatWindow = document.getElementById('chat-window');
            const loading = document.getElementById('loading');
            const text = input.value;
            
            if(!text) return;

            // User Message
            chatWindow.innerHTML += `<div class="message user-msg"><b>PRIYANSHU:</b> ${text}</div>`;
            input.value = '';
            loading.style.display = 'block';
            chatWindow.scrollTop = chatWindow.scrollHeight;

            try {
                const res = await fetch('/api/generate', {
                    method: 'POST',
                    body: JSON.stringify({ prompt: text })
                });
                const data = await res.json();
                
                // AI Response
                chatWindow.innerHTML += `<div class="message ai-msg"><b>CORE_AI:</b> ${data.reply}</div>`;
            } catch (e) {
                chatWindow.innerHTML += `<div class="message ai-msg"><b>ERROR:</b> Connection Interrupted.</div>`;
            }

            loading.style.display = 'none';
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }
    </script>
</body>
</html>
